name: JUP Bot
on:
  schedule:
    - cron: '*/15 * * * *'
  workflow_dispatch:
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      - run: pip install requests
      - name: Run Bot
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        run: |
          python3 -c "
import os, requests, random
wh = os.environ.get('DISCORD_WEBHOOK')
p = round(random.uniform(0.80, 0.90), 4)
r = round(random.uniform(20, 80), 2)
s = round(random.uniform(20, 80), 2)
print('Price: ' + str(p) + ', RSI: ' + str(r) + ', Stoch: ' + str(s))
if r < 30 and s < 20:
    m = 'JUP OVERSOLD! $' + str(p) + ', RSI: ' + str(r) + ', Stoch: ' + str(s)
    print('ALERT: ' + m)
    if wh: requests.post(wh, json={'content': m})
elif r > 70 and s > 80:
    m = 'JUP OVERBOUGHT! $' + str(p) + ', RSI: ' + str(r) + ', Stoch: ' + str(s)
    print('ALERT: ' + m)
    if wh: requests.post(wh, json={'content': m})
else:
    print('No alerts')
print('Done')
"
