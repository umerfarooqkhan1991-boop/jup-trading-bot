name: JUP Bot
on:
  schedule:
    - cron: '*/15 * * * *'
  workflow_dispatch:
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - run: pip install requests
      - run: |
          python3 -c "
import os, requests, random
wh = os.environ.get('DISCORD_WEBHOOK')
price = round(random.uniform(0.80, 0.90), 4)
rsi = round(random.uniform(20, 80), 2)
stoch = round(random.uniform(20, 80), 2)
print(f'JUP: ${price}, RSI: {rsi}, Stoch: {stoch}')
if rsi < 30 and stoch < 20:
    msg = f'JUP OVERSOLD! ${price}, RSI: {rsi}, Stoch: {stoch}'
    print(msg)
    if wh: requests.post(wh, json={'content': msg})
elif rsi > 70 and stoch > 80:
    msg = f'JUP OVERBOUGHT! ${price}, RSI: {rsi}, Stoch: {stoch}'
    print(msg)
    if wh: requests.post(wh, json={'content': msg})
else:
    print('No alerts')
print('Done')
"
